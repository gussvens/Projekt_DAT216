/*!CK:2426629197!*//*1456887295,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["vHo1C"]); }

__d('UFIReactionsAnimationData',['CubicBezier','ReactionAnimations'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};function i(j){'use strict';this.size={height:j.canvas_size[1],width:j.canvas_size[0]};this.frameRate=j.frame_rate;this.frameCount=this.getFrame(j.animation_frame_count);var k={};this.features=[];j.animation_groups.forEach(function(m){m.animations=this.buildAnimations(m.animations);m.features=[];m.groups=[];k[m.group_id]=m;}.bind(this));j.features.forEach(function(m){m.key_frames=this.buildFrames(m.key_frames,m.timing_curves).map(function(n){return n.join(' ');});if(m.effects)m.effects=this.buildEffects(m.effects);if(m.feature_animations)m.feature_animations=this.buildAnimations(m.feature_animations);if(m.animation_group){k[m.animation_group].features.push(m);}else this.features.push(m);}.bind(this));var l=Object.keys(k).map(function(m){return k[m];});l.filter(function(m){return m.parent_group;}).forEach(function(m){k[m.parent_group].groups.push(m);});this.groups=l.filter(function(m){return !m.parent_group;});}i.prototype.getFrame=function(j){'use strict';return Math.floor(j*(60/this.frameRate));};i.prototype.parseFrame=function(j){'use strict';var k=j.data;if(Array.isArray(k))return k.map(function(l){var m=parseFloat(l);if(!isNaN(m))return m;return [l.substr(0,1),l.substr(1).split(',').map(function(n){return parseFloat(n);})];});if(k.match(/^#(([0-9a-fA-F]{2}){4})/)){k=k.slice(3).split('');return [parseInt([k[0],k[1]].join(''),16),parseInt([k[2],k[3]].join(''),16),parseInt([k[4],k[5]].join(''),16)];}return [];};i.prototype.joinFrameData=function(j){'use strict';return j.map(function(k){if(Array.isArray(k))return k.join('');return k;});};i.prototype.buildFrames=function(j,k){'use strict';return j.reduce(function(l,m,n){var o=this.parseFrame(m),p=this.getFrame(m.start_frame);if(n===0){for(var q=0;q<=p;q++)l.push(this.joinFrameData(o));return l;}var r=null,s=k[n-1];if(Array.isArray(s))r=new (c('CubicBezier'))(s[0],s[1]);var t=j[n-1],u=this.parseFrame(t),v=this.getFrame(t.start_frame);for(var q=v+1;q<=p;q++)if(q===p){l.push(this.joinFrameData(o));}else (function(){var w=(q-v)/(p-v);if(r)w=r.solve(w);l.push(o.map(function(x,y){if(Array.isArray(x))return x[0]+x[1].map(function(z,aa){return u[y][1][aa]+(z-u[y][1][aa])*w;});return u[y]+(x-u[y])*w;}));})();return l;}.bind(this),[],this);};i.prototype.buildAnimations=function(j){'use strict';return j.map(function(k){k.key_values=this.buildFrames(k.key_values,k.timing_curves).map(function(l,m,n){if(k.property==='ROTATION'){return 'rotate('+l[0]+' '+k.anchor.join(' ')+')';}else if(k.property==='POSITION'){var o=l[0]-n[0][0],p=l[1]-n[0][1];return 'translate('+o+' '+p+')';}else if(k.property==='SCALE'){var q=l.map(function(r){return r/100;}).join(' ');if(k.anchor)return ('translate('+k.anchor.join(' ')+') '+('scale('+q+') ')+('translate('+k.anchor.map(function(r){return -r;}).join(' ')+')'));return 'scale('+q+')';}});return k;}.bind(this));};i.prototype.buildColor=function(j){'use strict';return 'rgb('+j.map(function(k){return Math.floor(k);})+')';};i.prototype.buildEffects=function(j){'use strict';var k=j.gradient;if(k){j.gradient.color_start.key_values=this.buildFrames(k.color_start.key_values,k.color_start.timing_curves).map(this.buildColor);j.gradient.color_end.key_values=this.buildFrames(k.color_end.key_values,k.color_end.timing_curves).map(this.buildColor);}return j;};f.exports={get:function(j){var k=h[j];if(!k){k=new i(JSON.parse(c('ReactionAnimations')[j.toUpperCase()].data));h[j]=k;}return k;}};},null);